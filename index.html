<!DOCTYPE html>
<html>

<head>
    <title>Archiving Royals as JSON</title>
    <link rel="stylesheet" type="text/css" href="themes.css">
    <link rel="icon" type="image/x-icon" href="new.ico">
    
    <script src="https://dagrejs.github.io/project/dagre-d3/latest/dagre-d3.min.js"></script>
    <script src="https://dagrejs.github.io/project/dagre/latest/dagre.min.js"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>

<body>

    <div class="page">
    
        <h1>Royal Family Tree</h1>
        <div id="frame">
            <svg class="d3" width="500" height = "500"><g/></svg>
        </div>
            <p>Draft royal family tree?!??</p>
        
        <!-- REMEMBER TO UPDATE DATE -->
        
    </div><!-- .page -->
    
    <footer>
        <p class="infooter">
            <u class="fakelink">Royal Family Tree</u> | 
            <u class="fakelink">Site made by Janice</u> | 
            <u class="fakelink">Created: 06/08/19</u> | 
            <u class="fakelink">Updated: 06/08/19</u> | 
            <u class="fakelink" onclick="window.history.back()">Go Back</u>
        </p>
    </footer>

</body>
    
<style>
    .node rect {
        stroke: #000;
        fill: #fff;
        stroke-width: 1;
    }
    .edgePath path {
        stroke: #000;
    }
    .d3 div {
        display: block;
        margin: 0 auto;
    }
    
    g.male > rect {
    }
    
    g.female > rect {
        stroke-dasharray: 4 4;
    }
    
    g.ruler > rect {
        stroke-width: 2;
    }
    
</style>
    
<script>
    var dagre = dagreD3.dagre;
    var g = new dagreD3.graphlib.Graph();
    
    // Set an object for the graph label
    g.setGraph({
        ranksep: 50,
        nodesep: 50,
        rankdir: 'TB',
        ranker: 'longest-path'
    });

    // Default to assigning a new object as a label for each new edge.
    g.setDefaultEdgeLabel(function() { return {}; });

    // Add nodes
    g.setNode("charles",  { label: "Charles II of Spain",   class: "male ruler" });
    g.setNode("philip",   { label: "Philip IV of Spain",    class: "male ruler" });
    g.setNode("marianna", { label: "Maria Anna of Austria", class: "female" });


    // Add edges
    g.setEdge("philip",   "charles", { arrowhead: 'undirected' });
    g.setEdge("marianna", "charles", { arrowhead: 'undirected' });

    // Set up an SVG group so that we can translate the final graph.
    var svg = d3.select('svg'),
        inner = svg.select('g');
        svgGroup = svg.append('g');
    
    // Set up zoom support
    var zoom = d3.zoom().on("zoom", function() {
        inner.attr("transform", d3.event.transform);
    });
    svg.call(zoom);
    
    // Create the renderer
    var render = new dagreD3.render();

    // Run the renderer. This is what draws the final graph.
    render(d3.select('.d3 g'), g);

    var initialScale = 0.75;
    svg.call(zoom.transform, d3.zoomIdentity.translate((svg.attr("width") - g.graph().width * initialScale) / 2, 20).scale(initialScale));

    svg.attr('height', g.graph().height * initialScale + 40);

</script>
</html>
